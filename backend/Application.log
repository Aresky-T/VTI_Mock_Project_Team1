2023-06-06 17:17:24 [restartedMain] DEBUG o.h.SQL                                            - 
    
    create table `Comment` (
       recipe_id integer not null,
        user_id integer not null,
        `comment` TEXT not null,
        `create_date` datetime default now() not null,
        `update_date` datetime(6),
        primary key (recipe_id, user_id)
    ) engine=InnoDB 
2023-06-06 17:17:24 [restartedMain] DEBUG o.h.SQL                                            - 
    
    create table `Notification` (
       `type` varchar(31) not null,
        `id` integer not null auto_increment,
        `content` varchar(255) not null,
        `notification_date` datetime(6) not null,
        `seen` bit not null,
        `receiver` integer not null,
        `sender` integer not null,
        primary key (`id`)
    ) engine=InnoDB 
2023-06-06 17:17:25 [restartedMain] DEBUG o.h.SQL                                            - 
    
    create table `Point` (
       id integer not null auto_increment,
        point int default 0 not null,
        user_id integer not null,
        primary key (id)
    ) engine=InnoDB 
2023-06-06 17:17:26 [restartedMain] DEBUG o.h.SQL                                            - 
    
    create table `Recipe` (
       `id` integer not null auto_increment,
        `create_date` datetime(6) not null,
        `description` TEXT not null,
        `image_url` TEXT not null,
        `name` varchar(200) not null,
        `note` TEXT not null,
        `point` int default 0 not null,
        `processing_steps` TEXT not null,
        `views` int default 0 not null,
        `creator_id` integer not null,
        primary key (`id`)
    ) engine=InnoDB 
2023-06-06 17:17:27 [restartedMain] DEBUG o.h.SQL                                            - 
    
    create table `Recipe_Exchange_History` (
       recipe_id integer not null,
        user_id integer not null,
        `exchange_date` datetime default now() not null,
        primary key (recipe_id, user_id)
    ) engine=InnoDB 
2023-06-06 17:17:27 [restartedMain] DEBUG o.h.SQL                                            - 
    
    create table `Recipe_Ingredient` (
       id integer not null auto_increment,
        `amount` float not null,
        `name` varchar(255) not null,
        `unit` varchar(50) not null,
        `recipe_id` integer not null,
        primary key (id)
    ) engine=InnoDB 
2023-06-06 17:17:28 [restartedMain] DEBUG o.h.SQL                                            - 
    
    create table `Registration_User_Token` (
       `token_id` integer not null auto_increment,
        expiry_date datetime(6) not null,
        `token` varchar(36) not null,
        user_id integer not null,
        primary key (`token_id`)
    ) engine=InnoDB 
2023-06-06 17:17:29 [restartedMain] DEBUG o.h.SQL                                            - 
    
    create table `Reset_Password_Token` (
       `reset_id` integer not null auto_increment,
        `expiry_date` datetime(6) not null,
        `token` varchar(36) not null,
        `user_id` integer not null,
        primary key (`reset_id`)
    ) engine=InnoDB 
2023-06-06 17:17:30 [restartedMain] DEBUG o.h.SQL                                            - 
    
    create table `User` (
       id integer not null auto_increment,
        avatar_url TEXT,
        `birth_date` date,
        `email` varchar(50) not null,
        `first_name` varchar(50) not null,
        `gender` integer,
        `last_name` varchar(50) not null,
        `password` varchar(100) not null,
        phone varchar(50),
        `status` integer not null,
        `username` varchar(50) not null,
        primary key (id)
    ) engine=InnoDB 
2023-06-06 17:17:30 [restartedMain] DEBUG o.h.SQL                                            - 
    
    create table `Voting` (
       recipe_id integer not null,
        user_id integer not null,
        `create_date` datetime(6) not null,
        `stars` int default 0 not null,
        primary key (recipe_id, user_id)
    ) engine=InnoDB 
2023-06-06 17:17:31 [restartedMain] DEBUG o.h.SQL                                            - 
    
    alter table `Point` 
       drop index UK_dc207fihfo1l7xluv3pjgu2x8 
2023-06-06 17:17:32 [restartedMain] DEBUG o.h.SQL                                            - 
    
    alter table `Point` 
       add constraint UK_dc207fihfo1l7xluv3pjgu2x8 unique (user_id) 
2023-06-06 17:17:32 [restartedMain] DEBUG o.h.SQL                                            - 
    
    alter table `Recipe` 
       drop index UK_eq69i3y1j0ad2v3ga9etvqhhy 
2023-06-06 17:17:33 [restartedMain] DEBUG o.h.SQL                                            - 
    
    alter table `Recipe` 
       add constraint UK_eq69i3y1j0ad2v3ga9etvqhhy unique (`name`) 
2023-06-06 17:17:34 [restartedMain] DEBUG o.h.SQL                                            - 
    
    alter table `Registration_User_Token` 
       drop index UK_ndtney6eldqdld0egulw4wpqn 
2023-06-06 17:17:34 [restartedMain] DEBUG o.h.SQL                                            - 
    
    alter table `Registration_User_Token` 
       add constraint UK_ndtney6eldqdld0egulw4wpqn unique (`token`) 
2023-06-06 17:17:35 [restartedMain] DEBUG o.h.SQL                                            - 
    
    alter table `Reset_Password_Token` 
       drop index UK_2junmg5fn8kvo0y8m01aslosd 
2023-06-06 17:17:35 [restartedMain] DEBUG o.h.SQL                                            - 
    
    alter table `Reset_Password_Token` 
       add constraint UK_2junmg5fn8kvo0y8m01aslosd unique (`token`) 
2023-06-06 17:17:36 [restartedMain] DEBUG o.h.SQL                                            - 
    
    alter table `User` 
       drop index UK_e6gkqunxajvyxl5uctpl2vl2p 
2023-06-06 17:17:36 [restartedMain] DEBUG o.h.SQL                                            - 
    
    alter table `User` 
       add constraint UK_e6gkqunxajvyxl5uctpl2vl2p unique (`email`) 
2023-06-06 17:17:37 [restartedMain] DEBUG o.h.SQL                                            - 
    
    alter table `User` 
       drop index UK_jreodf78a7pl5qidfh43axdfb 
2023-06-06 17:17:38 [restartedMain] DEBUG o.h.SQL                                            - 
    
    alter table `User` 
       add constraint UK_jreodf78a7pl5qidfh43axdfb unique (`username`) 
2023-06-06 17:17:38 [restartedMain] DEBUG o.h.SQL                                            - 
    
    alter table `Comment` 
       add constraint FKo50yc5puxrj2jxlta3akktlhj 
       foreign key (recipe_id) 
       references `Recipe` (`id`) 
2023-06-06 17:17:39 [restartedMain] DEBUG o.h.SQL                                            - 
    
    alter table `Comment` 
       add constraint FKluh3hsawi4e37nhevk8uwsb1u 
       foreign key (user_id) 
       references `User` (id) 
2023-06-06 17:17:40 [restartedMain] DEBUG o.h.SQL                                            - 
    
    alter table `Notification` 
       add constraint FKlj5kpnyrytrdm0jat4iq076wu 
       foreign key (`receiver`) 
       references `User` (id) 
2023-06-06 17:17:41 [restartedMain] DEBUG o.h.SQL                                            - 
    
    alter table `Notification` 
       add constraint FKfjc8ydnka26vui8iu88rwrk7v 
       foreign key (`sender`) 
       references `User` (id) 
2023-06-06 17:17:41 [restartedMain] DEBUG o.h.SQL                                            - 
    
    alter table `Point` 
       add constraint FKj6aun7v1n622u6jxohpgnf27f 
       foreign key (user_id) 
       references `User` (id) 
2023-06-06 17:17:42 [restartedMain] DEBUG o.h.SQL                                            - 
    
    alter table `Recipe` 
       add constraint FKpxue8qr0wel29tv4r7ec0gsau 
       foreign key (`creator_id`) 
       references `User` (id) 
2023-06-06 17:17:43 [restartedMain] DEBUG o.h.SQL                                            - 
    
    alter table `Recipe_Exchange_History` 
       add constraint FKqovpwf0tacynrvocgbga30u03 
       foreign key (recipe_id) 
       references `Recipe` (`id`) 
2023-06-06 17:17:44 [restartedMain] DEBUG o.h.SQL                                            - 
    
    alter table `Recipe_Exchange_History` 
       add constraint FKoyefuuqbb5x1h93uahve0f45u 
       foreign key (user_id) 
       references `User` (id) 
2023-06-06 17:17:45 [restartedMain] DEBUG o.h.SQL                                            - 
    
    alter table `Recipe_Ingredient` 
       add constraint FK5t10qgvys86pvey63t9o6s7fj 
       foreign key (`recipe_id`) 
       references `Recipe` (`id`) 
2023-06-06 17:17:46 [restartedMain] DEBUG o.h.SQL                                            - 
    
    alter table `Registration_User_Token` 
       add constraint FK29nv0qws4gsg394in5x5116qu 
       foreign key (user_id) 
       references `User` (id) 
2023-06-06 17:17:47 [restartedMain] DEBUG o.h.SQL                                            - 
    
    alter table `Reset_Password_Token` 
       add constraint FKkkv6mt2wytakgf9kiy16vj379 
       foreign key (`user_id`) 
       references `User` (id) 
2023-06-06 17:17:47 [restartedMain] DEBUG o.h.SQL                                            - 
    
    alter table `Voting` 
       add constraint FKm7mdoondmh1rv1yqcbnmwee53 
       foreign key (recipe_id) 
       references `Recipe` (`id`) 
2023-06-06 17:17:48 [restartedMain] DEBUG o.h.SQL                                            - 
    
    alter table `Voting` 
       add constraint FKns8286r6qqamepukyl8y7mapf 
       foreign key (user_id) 
       references `User` (id) 
